# Varnish environment configuration description. This was derived from
# the old style sysconfig/defaults settings

RELOAD_VCL=1
VARNISH_VCL_CONF={{ varnish_config_path }}/default.vcl
VARNISH_LISTEN_ADDRESS={{ varnish_listen_address }}
VARNISH_LISTEN_PORT={{ varnish_listen_port }}
VARNISH_ADMIN_LISTEN_ADDRESS={{ varnish_admin_listen_address }}
VARNISH_ADMIN_LISTEN_PORT={{ varnish_admin_listen_port }}
VARNISH_PID_FILE={{ varnish_pid_file }}
VARNISH_SECRET_FILE={{ varnish_config_path }}/secret
VARNISH_MIN_THREADS={{ varnish_min_threads }}
VARNISH_MAX_THREADS={{ varnish_max_threads }}
VARNISH_THREAD_TIMEOUT={{ varnish_thread_timeout }}
VARNISH_STORAGE="{{ varnish_storage }}"
VARNISH_TTL={{ varnish_ttl }}
VARNISH_USER=varnish
VARNISH_GROUP=varnish
DAEMON_OPTS="-p thread_pool_min=${VARNISH_MIN_THREADS} \
             -p thread_pool_max=${VARNISH_MAX_THREADS} \
             -p thread_pool_timeout=${VARNISH_THREAD_TIMEOUT} \
             -p cli_buffer=16k \
             -p vcc_allow_inline_c=on \
             -p workspace_backend=64k \
             -p feature=+esi_ignore_other_elements"
